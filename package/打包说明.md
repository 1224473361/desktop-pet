# 桌面宠物项目打包说明

## 打包结果

打包完成后，可执行文件位于：`package/dist/DesktopPet.exe`

## 使用方法

1. 直接双击运行 `DesktopPet.exe` 即可启动桌面宠物
2. 桌面宠物会显示在屏幕中央
3. 可以拖动宠物在桌面上移动
4. 右键点击宠物可以打开菜单（隐藏、故事大会、休息提醒、退出）

## 打包命令

### 使用PowerShell脚本打包（推荐）

在项目根目录下运行：

```powershell
cd package
.\package.ps1
```

### 手动打包命令

如果需要手动打包，可以在 `src/` 目录下运行以下命令：

```powershell
pyinstaller --name="DesktopPet" --onefile --noconsole --distpath="../package/dist" --add-data="images/idle_animation;images/idle_animation" --add-data="images/click;images/click" --add-data="images/talk_background.jpg;images" --add-data="images/favicon.ico;images" --add-data="dialog/dialog.txt;dialog" --exclude-module="torch" --exclude-module="transformers" --exclude-module="numpy" --exclude-module="sympy" --exclude-module="pytorch" --hidden-import="PyQt6.QtCore" --hidden-import="PyQt6.QtGui" --hidden-import="PyQt6.QtWidgets" --hidden-import="PyQt6.sip" main.py
```

## 打包配置说明

- **打包工具**：使用PyInstaller进行打包
- **打包选项**：
  - `--onefile`：生成单个可执行文件
  - `--noconsole`：不显示控制台窗口
  - `--exclude-module`：排除大型依赖（如torch、transformers等）
  - `--add-data`：添加必要的资源文件

- **包含的资源文件**：
  - `images/idle_animation/` - 宠物空闲动画文件夹
  - `images/click/` - 宠物点击动作文件夹
  - `images/favicon.ico` - 窗口和托盘图标
  - `images/talk_background.jpg` - 故事大会背景图片
  - `dialog/dialog.txt` - 宠物对话文本文件

## 依赖说明

项目主要依赖：

```powershell
pip install PyQt6 --index-url https://mirrors.aliyun.com/pypi/simple/
pip install pyinstaller --index-url https://mirrors.aliyun.com/pypi/simple/
```


